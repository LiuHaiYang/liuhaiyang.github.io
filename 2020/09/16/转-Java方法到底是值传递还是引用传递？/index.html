<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="meet you">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->





<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->


<title>转-Java方法到底是值传递还是引用传递？ | meet you</title>


    <link rel="alternate" href="/atom.xml" title="meet you" type="application/atom+xml">


    <link rel="icon" href="/img/favicon.ico">

    


    <link rel="stylesheet" href="//imsun.github.io/gitment/style/default.css">


<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    


    

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(http://snippet.shenliyang.com/img/banner.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='Ocean'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                <h2> Always believe youself. </h2>
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">meet you</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/python/"><i class="fa "></i>python</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/java/"><i class="fa "></i>JAVA</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/生活/"><i class="fa "></i>生活</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="转-Java方法到底是值传递还是引用传递？">
            
	            转-Java方法到底是值传递还是引用传递？
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/ ">
             
        </a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
                    <a href="/tags/java" title='java'>
                        java
                    </a>
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2020/09/16</span>
        </span>
    
</div>

            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>865</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <p>转自- !(<a href="https://cloud.tencent.com/developer/column/1697" target="_blank" rel="noopener">https://cloud.tencent.com/developer/column/1697</a>)</p>
<p>要点：Java方法到底是值传递还是引用传递？</p>
<p>这个问题一直在技术讨论区争论不休。对于初级人员来说很具有迷惑性，即便对于很多高级开发来说，也搞不清楚。<br>本篇文章就带大家探究一下底层的原理，最终化繁为简，让大家通过一两句话就明白到底是值传递还是引用传递。</p>
<h3 id="值传递与引用传递"><a href="#值传递与引用传递" class="headerlink" title="值传递与引用传递"></a>值传递与引用传递</h3><p>首先来了解一下值传递和引用传递的概念：</p>
<p>值传递（pass by value）是指在调用函数时将实际参数复制一份传递到函数中，在函数内对参数进行修改，不会影响到实际参数。</p>
<p>引用传递（pass by reference）是指在调用函数时将实际参数的地址直接传递到函数内，在函数内对参数所进行的修改，将影响到实际参数。</p>
<p>通过概念我们可以得出区分值传递和引用传递的本质区别就是：实际参数的值是复制了一份，还是直接拿去用了。</p>
<h3 id="基础类型和String的传递过程"><a href="#基础类型和String的传递过程" class="headerlink" title="基础类型和String的传递过程"></a>基础类型和String的传递过程</h3><p>在此问题上经常有一个理解误区：值传递和引用传递区分的条件是传递的内容，如果是个值就是值传递。如果是个引用，就是引用传递。</p>
<p>注意，上面的理解是错误的，值传递和引用传递的表现形式貌似与对象类型有关，但本质上是无关的。</p>
<p>先来看一下基础类型和String类型通常在内存中存在的形式。更多展现形式我们在本系列文章的前几篇文章中已经多次提到。</p>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1161110/y8dye2iqxk.jpeg?imageView2/2/w/1620" alt="image"></p>
<p>总结一下就是方法内基础类型的引用和值分配在栈中，String类型引用在栈中，值在堆（堆或字符串常量池）中。</p>
<p>先来看基础类型（以int为例）作为参数传递给方法时的内存结构：</p>
<p>此时可以看到方法内执行的赋值操作只是改变了str变量中存储的字符串的地址，并未影响到原有的name变量所指向的字符串。</p>
<p>以上是关于基础类型和String类的修改都符合值传递的要求：将实际参数复制一份，修改复制的参数值并不影响原有值。只不过针对String类型复制的实际值是变量中存储的引用地址。</p>
<p>有朋友说：不对啊，我传递进来一个对象，然后调用其set方法也可以修改对象的内容啊！</p>
<p>那么，我们再来看看引用类型的内存结构图。</p>
<h3 id="引用类型的值传递"><a href="#引用类型的值传递" class="headerlink" title="引用类型的值传递"></a>引用类型的值传递</h3><p>我们都知道数组也属于引用类型，但为了更加明确，我们这里新创建User对象来进行验证。</p>
<p>可以看出paramUser参数同样复制了user参数中的地址，因此也指向了堆中的User对象。那么，有朋友说User对象的确被改了啊！</p>
<p>需要注意的是，我们关注的不是对象内部的结构是否被改变，而是复制的原有的user参数的值是否被改变。从上图可以明显看出，原有的user中的值（引用地址），并没有发生任何改变。</p>
<p>那直接对paramUser赋值新对象会不会改变原有user变量的值？为了进一步验证，我们修改一下change方法中的内容：</p>
<p>在change方法执行之前，内存结构与上面的结构一样，但执行之后，内存结构便发生了新的变化。</p>
<p>如果是引用传递的话，那么对paramUser进行重新赋值，肯定会改变原有user对应的值。但这里很显然，赋值之后paramUser只是指向了一个新的堆中的对象，并未影响到原有的user值。</p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>通过上面的一步步分析和演示，我们可以很明显的看到出：如果是基础类型，那么在方法传递的时候复制的是（栈中）基础类型的引用和值，如果是引用类型复制的是（栈中）引用地址。</p>
<p>也就是说无论通过什么类型，最终都是进行了一份复制操作，而并不是直接传递实际值的引用传递。所以，在Java中本质上只有值传递，也就说Java的传参只会传递它的副本，并不会传递参数本身。</p>

    </div>

    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 ,图片资源转自pexels © <a href="" target="_blank">Ocean</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2020/09/22/转-谈谈String、StringBuffer、StringBuilder的区别？/" class="pre-post btn btn-default" title='转-谈谈String、StringBuffer、StringBuilder的区别？'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">转-谈谈String、StringBuffer、StringBuilder的区别？</span>
        </a>
    
    
        <a href="/2020/09/16/JVM的Xms和Xmx参数设置为相同值有什么好处？/" class="next-post btn btn-default" title='JVM的Xms和Xmx参数设置为相同值有什么好处？(转)'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">JVM的Xms和Xmx参数设置为相同值有什么好处？(转)</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	<link rel="stylesheet" href="https://jjeejj.github.io/css/gitment.css">
<script src="https://jjeejj.github.io/js/gitment.js"></script>

<script>
    var gitment = new Gitment({
        id: 'Wed Sep 16 2020 18:46:17 GMT+0800',
        owner:"LiuHaiYang",
        repo:"liuhaiyang.github.io",
        oauth: {
          client_id:"aacf4f5555aee5bf0770",
          client_secret:"07f91d5b66c30419c14d14349ccadaa91300bc9c"
        },
        perPage:"10",
    });
    gitment.render('comments');
</script>

    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#值传递与引用传递"><span class="toc-text">值传递与引用传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基础类型和String的传递过程"><span class="toc-text">基础类型和String的传递过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#引用类型的值传递"><span class="toc-text">引用类型的值传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小结"><span class="toc-text">小结</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12"> 
                <span>Copyright &copy; 2019
                </span> | 
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Ocean</a>
                </span> | 
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



<script src="/js/app.js?rev=@@hash"></script>


</body>
</html>
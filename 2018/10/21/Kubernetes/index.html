<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="meet you">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->





<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->


<title>Kubernetes | meet you</title>


    <link rel="alternate" href="/atom.xml" title="meet you" type="application/atom+xml">


    <link rel="icon" href="/img/favicon.ico">

    


    <link rel="stylesheet" href="//imsun.github.io/gitment/style/default.css">


<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    


    

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(http://snippet.shenliyang.com/img/banner.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='Ocean'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                <h2> Always believe youself. </h2>
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">meet you</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/python/"><i class="fa "></i>python</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/java/"><i class="fa "></i>JAVA</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/生活/"><i class="fa "></i>生活</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Kubernetes">
            
	            Kubernetes
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/ ">
             
        </a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/10/21</span>
        </span>
    
</div>

            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>1114</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <h4 id="kubernetes"><a href="#kubernetes" class="headerlink" title="kubernetes"></a>kubernetes</h4><ul>
<li>kubernetes，简称K8s，是用8代替8个字符“ubernete”而成的缩写。</li>
<li>是一个开源的，用于管理云平台中多个主机上的容器化的应用，Kubernetes的目标是让部署容器化的应用简单并且高效（powerful）</li>
<li>Kubernetes提供了应用部署，规划，更新，维护的一种机制</li>
<li>传统的应用部署方式是通过插件或脚本来安装应用,这样做的缺点是应用的运行、配置、管理、所有生存周期将与当前操作系统绑定，这样做并不利于应用的升级更新/回滚等操作，当然也可以通过创建虚拟机的方式来实现某些功能，但是虚拟机非常重，并不利于可移植性。</li>
<li>新的方式是通过部署容器方式实现，每个容器之间互相隔离，每个容器有自己的文件系统 ，容器之间进程不会相互影响，能区分计算资源。相对于虚拟机，容器能快速部署，由于容器与底层设施、机器文件系统解耦的，所以它能在不同云、不同版本操作系统间进行迁移。</li>
<li>容器占用资源少、部署快，每个应用可以被打包成一个容器镜像，每个应用与容器间成一对一关系也使容器有更大优势，使用容器可以在build或release 的阶段，为应用创建容器镜像，因为每个应用不需要与其余的应用堆栈组合，也不依赖于生产环境基础结构，这使得从研发到测试、生产能提供一致环境。类似地，容器比虚机轻量、更“透明”，这更便于监控和管理。</li>
</ul>
<h4 id="Kubernetes概述"><a href="#Kubernetes概述" class="headerlink" title="Kubernetes概述"></a>Kubernetes概述</h4><ul>
<li>Kubernetes是Google开源的一个容器编排引擎，它支持自动化部署、大规模可伸缩、应用容器化管理。</li>
<li>在生产环境中部署一个应用程序时，通常要部署该应用的多个实例以便对应用请求进行负载均衡。</li>
<li>在Kubernetes中，我们可以创建多个容器，每个容器里面运行一个应用实例，然后通过内置的负载均衡策略，实现对这一组应用实例的管理、发现、访问，而这些细节都不需要运维人员去进行复杂的手工配置和处理。</li>
</ul>
<h4 id="Kubernetes-特点编辑"><a href="#Kubernetes-特点编辑" class="headerlink" title="Kubernetes 特点编辑"></a>Kubernetes 特点编辑</h4><ul>
<li>可移植: 支持公有云，私有云，混合云，多重云（multi-cloud）</li>
<li>可扩展: 模块化, 插件化, 可挂载, 可组合</li>
<li>自动化: 自动部署，自动重启，自动复制，自动伸缩/扩展</li>
</ul>
<h4 id="Kubernetes-组件编辑"><a href="#Kubernetes-组件编辑" class="headerlink" title="Kubernetes 组件编辑"></a>Kubernetes 组件编辑</h4><ul>
<li>Master 组件<ul>
<li>kube-apiserver</li>
<li>ETCD</li>
<li>kube-controller-manager</li>
<li>cloud-controller-manager</li>
<li>kube-scheduler</li>
<li>插件 addons<ul>
<li>DNS</li>
<li>用户界面</li>
<li>容器资源监测</li>
<li>Cluster-level Logging</li>
</ul>
</li>
</ul>
</li>
<li>节点（Node）组件<ul>
<li>kubelet</li>
<li>kube-proxy</li>
<li>docker</li>
<li>RKT</li>
<li>supervisord</li>
<li>fluentd</li>
</ul>
</li>
</ul>
<h4 id="Master-组件"><a href="#Master-组件" class="headerlink" title="Master 组件"></a>Master 组件</h4><ul>
<li>Master组件提供集群的管理控制中心。<ul>
<li>Master组件可以在集群中任何节点上运行。但是为了简单起见，通常在一台VM/机器上启动所有Master组件，并且不会在此VM/机器上运行用户容器。请参考构建高可用群集以来构建multi-master-VM。</li>
</ul>
</li>
<li>kube-apiserver<ul>
<li>kube-apiserver用于暴露Kubernetes API。任何的资源请求/调用操作都是通过kube-apiserver提供的接口进行。请参阅构建高可用群集。</li>
</ul>
</li>
<li>ETCD<ul>
<li>etcd是Kubernetes提供默认的存储系统，保存所有集群数据，使用时需要为etcd数据提供备份计划。</li>
</ul>
</li>
<li>kube-controller-manager<ul>
<li>kube-controller-manager运行管理控制器，它们是集群中处理常规任务的后台线程。逻辑上，每个控制器是一个单独的进程，但为了降低复杂性，它们都被编译成单个二进制文件，并在单个进程中运行。</li>
</ul>
</li>
<li>这些控制器包括：<ul>
<li>节点（Node）控制器。</li>
<li>副本（Replication）控制器：负责维护系统中每个副本中的pod。</li>
<li>端点（Endpoints）控制器：填充Endpoints对象（即连接Services&amp;Pods）。</li>
<li>Service Account和Token控制器：为新的Namespace创建默认帐户访问API Token。</li>
</ul>
</li>
<li><p>cloud-controller-manager</p>
<ul>
<li>云控制器管理器负责与底层云提供商的平台交互。云控制器管理器是Kubernetes版本1.6中引入的，目前还是Alpha的功能。</li>
</ul>
</li>
<li><p>云控制器管理器仅运行云提供商特定的（controller loops）控制器循环。可以通过将–cloud-providerflag设置为external启动kube-controller-manager ，来禁用控制器循环。</p>
</li>
<li><p>cloud-controller-manager 具体功能：</p>
<ul>
<li>节点（Node）控制器</li>
<li>路由（Route）控制器</li>
<li>Service控制器</li>
<li>卷（Volume）控制器</li>
</ul>
</li>
<li><p>kube-scheduler</p>
<ul>
<li>kube-scheduler监视新创建没有分配到Node的Pod，为Pod选择一个Node。</li>
</ul>
</li>
<li>插件 addons<ul>
<li>插件（addon）是实现集群pod和Services功能的。Pod由Deployments，ReplicationController等进行管理。Namespace 插件对象是在kube-system Namespace中创建。</li>
</ul>
</li>
<li>DNS<ul>
<li>虽然不严格要求使用插件，但Kubernetes集群都应该具有集群 DNS。</li>
<li>群集 DNS是一个DNS服务器，能够为 Kubernetes services提供 DNS记录。</li>
<li>由Kubernetes启动的容器自动将这个DNS服务器包含在他们的DNS searches中。</li>
</ul>
</li>
<li>用户界面<ul>
<li>kube-ui提供集群状态基础信息查看。</li>
</ul>
</li>
<li>容器资源监测<ul>
<li>容器资源监控提供一个UI浏览监控数据。</li>
</ul>
</li>
<li>Cluster-level Logging<ul>
<li>Cluster-level logging，负责保存容器日志，搜索/查看日志。</li>
</ul>
</li>
<li>节点（Node）组件<ul>
<li>节点组件运行在Node，提供Kubernetes运行时环境，以及维护Pod。</li>
</ul>
</li>
<li>kubelet<ul>
<li>kubelet是主要的节点代理，它会监视已分配给节点的pod，具体功能：<ul>
<li>安装Pod所需的volume。</li>
<li>下载Pod的Secrets。</li>
<li>Pod中运行的 docker（或experimentally，rkt）容器。</li>
<li>定期执行容器健康检查。</li>
<li>Reports the status of the pod back to the rest of the system, by creating amirror podif necessary.</li>
<li>Reports the status of the node back to the rest of the system.</li>
</ul>
</li>
</ul>
</li>
<li>kube-proxy<ul>
<li>kube-proxy通过在主机上维护网络规则并执行连接转发来实现Kubernetes服务抽象。</li>
</ul>
</li>
<li>docker<ul>
<li>docker用于运行容器。</li>
</ul>
</li>
<li>RKT<ul>
<li>rkt运行容器，作为docker工具的替代方案。</li>
</ul>
</li>
<li>supervisord<ul>
<li>supervisord是一个轻量级的监控系统，用于保障kubelet和docker运行。</li>
</ul>
</li>
<li>fluentd<ul>
<li>fluentd是一个守护进程，可提供cluster-level logging.。</li>
</ul>
</li>
</ul>

    </div>

    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 ,图片资源转自pexels © <a href="" target="_blank">Ocean</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2018/10/22/20181022/" class="pre-post btn btn-default" title='20181022'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">20181022</span>
        </a>
    
    
        <a href="/2018/09/09/Linux命令调用世界地图/" class="next-post btn btn-default" title='Linux命令调用世界地图'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">Linux命令调用世界地图</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	<link rel="stylesheet" href="https://jjeejj.github.io/css/gitment.css">
<script src="https://jjeejj.github.io/js/gitment.js"></script>

<script>
    var gitment = new Gitment({
        id: 'Sun Oct 21 2018 22:49:03 GMT+0800',
        owner:"LiuHaiYang",
        repo:"liuhaiyang.github.io",
        oauth: {
          client_id:"aacf4f5555aee5bf0770",
          client_secret:"07f91d5b66c30419c14d14349ccadaa91300bc9c"
        },
        perPage:"10",
    });
    gitment.render('comments');
</script>

    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#kubernetes"><span class="toc-text">kubernetes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Kubernetes概述"><span class="toc-text">Kubernetes概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Kubernetes-特点编辑"><span class="toc-text">Kubernetes 特点编辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Kubernetes-组件编辑"><span class="toc-text">Kubernetes 组件编辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Master-组件"><span class="toc-text">Master 组件</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12"> 
                <span>Copyright &copy; 2019
                </span> | 
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Ocean</a>
                </span> | 
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



<script src="/js/app.js?rev=@@hash"></script>


</body>
</html>